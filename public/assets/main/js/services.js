"use strict";var app=angular.module("pixydriveApp");app.service("Auth",function(e,t){var r=this;this.register=function(t){return e.post("/users/register",t)},this.login=function(t){return e.post("/users/login",t).then(function(e){return r.getProfile(e)})},this.logout=function(){return e["delete"]("/users/logout").then(function(e){return t.resolve(e)})},this.getProfile=function(){return e["delete"]("/users/profile").then(function(e){return r.currentUser=e.data,t.resolve(e.data)})["catch"](function(e){return r.currentUser=null,t.reject(e.data)})}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4vanMvc2VydmljZXMuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiLCIkaHR0cCIsIiRxIiwiX3RoaXMiLCJ0aGlzIiwicmVnaXN0ZXIiLCJ1c2VyT2JqIiwicG9zdCIsImxvZ2luIiwidGhlbiIsInJlcyIsImdldFByb2ZpbGUiLCJsb2dvdXQiLCJyZXNvbHZlIiwiY3VycmVudFVzZXIiLCJkYXRhIiwicmVqZWN0Il0sIm1hcHBpbmdzIjoiQUFBQSxZQUVBLElBQU1BLEtBQU1DLFFBQVFDLE9BQU8sZUFFM0JGLEtBQUlHLFFBQVEsT0FBUSxTQUFTQyxFQUFPQyxHQUFJLEdBQUFDLEdBQUFDLElBRXRDQSxNQUFLQyxTQUFXLFNBQUFDLEdBQ2QsTUFBT0wsR0FBTU0sS0FBSyxrQkFBbUJELElBR3ZDRixLQUFLSSxNQUFRLFNBQUFGLEdBQ1gsTUFBT0wsR0FBTU0sS0FBSyxlQUFnQkQsR0FDL0JHLEtBQUssU0FBQUMsR0FDSixNQUFPUCxHQUFLUSxXQUFXRCxNQUk3Qk4sS0FBS1EsT0FBUyxXQUNaLE1BQU9YLEdBQUFBLFVBQWEsaUJBQ2pCUSxLQUFLLFNBQUFDLEdBQ0osTUFBT1IsR0FBR1csUUFBUUgsTUFJeEJOLEtBQUtPLFdBQWEsV0FDaEIsTUFBT1YsR0FBQUEsVUFBYSxrQkFDakJRLEtBQUssU0FBQUMsR0FFSixNQURBUCxHQUFLVyxZQUFjSixFQUFJSyxLQUNoQmIsRUFBR1csUUFBUUgsRUFBSUssUUFIbkJkLFNBS0UsU0FBQVMsR0FFTCxNQURBUCxHQUFLVyxZQUFjLEtBQ1paLEVBQUdjLE9BQU9OLEVBQUlLIiwiZmlsZSI6Im1haW4vanMvc2VydmljZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdwaXh5ZHJpdmVBcHAnKTtcblxuYXBwLnNlcnZpY2UoJ0F1dGgnLCBmdW5jdGlvbigkaHR0cCwgJHEpIHtcblxuICB0aGlzLnJlZ2lzdGVyID0gdXNlck9iaiA9PiB7XG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy91c2Vycy9yZWdpc3RlcicsIHVzZXJPYmopO1xuICB9O1xuXG4gIHRoaXMubG9naW4gPSB1c2VyT2JqID0+IHtcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL3VzZXJzL2xvZ2luJywgdXNlck9iailcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb2ZpbGUocmVzKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIHRoaXMubG9nb3V0ID0gKCkgPT4ge1xuICAgIHJldHVybiAkaHR0cC5kZWxldGUoJy91c2Vycy9sb2dvdXQnKVxuICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgcmV0dXJuICRxLnJlc29sdmUocmVzKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0UHJvZmlsZSA9ICgpID0+IHtcbiAgICByZXR1cm4gJGh0dHAuZGVsZXRlKCcvdXNlcnMvcHJvZmlsZScpXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gcmVzLmRhdGE7XG4gICAgICAgIHJldHVybiAkcS5yZXNvbHZlKHJlcy5kYXRhKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2gocmVzID0+IHtcbiAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IG51bGw7XG4gICAgICAgIHJldHVybiAkcS5yZWplY3QocmVzLmRhdGEpO1xuICAgICAgfSk7XG4gIH07XG59KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
